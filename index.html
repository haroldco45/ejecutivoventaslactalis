<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejecutivo Ventas Lactalis | Vibras Positivas</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        :root {
            --lactalis-blue: #0055a4;
            --lactalis-red: #e4002b;
            --accent: #ff9800;
        }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            /* Fondo alusivo a Lactalis con overlay para legibilidad */
            background: linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)), url('https://images.unsplash.com/photo-1528498033053-40e9195d9e92?auto=format&fit=crop&q=80&w=1000'); 
            background-size: cover;
            background-attachment: fixed;
            color: #333;
        }
        .header {
            background: var(--lactalis-blue);
            color: white;
            padding: 15px;
            text-align: center;
            border-bottom: 5px solid var(--lactalis-red);
        }
        .logo { max-width: 180px; margin-bottom: 10px; background: white; padding: 5px; border-radius: 10px; }
        #map { height: 250px; width: 100%; margin: 10px 0; border-radius: 15px; border: 2px solid var(--lactalis-blue); }
        .container { padding: 20px; max-width: 500px; margin: auto; }
        .card {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border-left: 8px solid var(--lactalis-blue);
        }
        .input-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: var(--lactalis-blue); }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 2px solid #ddd;
            font-size: 16px;
            box-sizing: border-box;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
            border: none;
        }
        .btn-catalog { background: #f8f9fa; border: 2px solid var(--lactalis-blue); color: var(--lactalis-blue); }
        .btn-ws { background: #25D366; color: white; font-size: 18px; }
        .footer { text-align: center; padding: 20px; font-size: 12px; color: #666; }
        .vibras { color: var(--accent); font-weight: bold; font-size: 14px; }
        #clock { font-weight: bold; color: white; margin: 5px 0; font-size: 1.1em; }
    </style>
</head>
<body>

    <div class="header">
        <img src="lactalis.PNG" alt="Lactalis Logo" class="logo">
        <div style="font-weight: bold;">CAUCASIA | WhatsApp: 3164704426</div>
        <div id="clock">Cargando hora de Colombia...</div>
    </div>

    <div class="container">
        <div class="card">
            <h3 style="margin-top:0; color:var(--lactalis-blue); text-align: center;">üìù DATOS DEL CLIENTE</h3>
            
            <div class="input-group">
                <label>Nombre / Negocio:</label>
                <input type="text" id="nombre" placeholder="Nombre completo">
            </div>

            <div class="input-group">
                <label>Direcci√≥n:</label>
                <input type="text" id="direccion" placeholder="Direcci√≥n en Caucasia">
            </div>

            <div class="input-group">
                <label>Celular Cliente:</label>
                <input type="tel" id="celular" placeholder="N√∫mero del cliente">
            </div>

            <div class="input-group">
                <label>Gesti√≥n a realizar:</label>
                <select id="gestion" class="select-box">
                    <option value="Cotizaci√≥n">üìÑ Solicitar Cotizaci√≥n</option>
                    <option value="Pedido">üõí Realizar Pedido Nuevo</option>
                    <option value="Consulta Cat√°logo">‚ùì Consulta de Productos</option>
                </select>
            </div>

            <div class="input-group">
                <label>Observaciones:</label>
                <textarea id="obs" rows="3" placeholder="Detalles del pedido o consulta..."></textarea>
            </div>

            <label>üìç Ubicaci√≥n del Punto:</label>
            <div id="map"></div>
            <small style="color: gray;">(Arrastra el marcador a la ubicaci√≥n exacta)</small>

            <a href="lactalis.pdf" target="_blank" class="btn btn-catalog">üìÇ VER CAT√ÅLOGO PDF</a>
            <button onclick="enviarGestion()" class="btn btn-ws">üì≤ ENVIAR A WHATSAPP</button>
        </div>

        <div class="footer">
            <p class="vibras">‚ú® App desarrollada por Vibras Positivas ‚ú®</p>
            <p>¬© 2026 Todos los derechos reservados | Harold Mar√≠n</p>
        </div>
    </div>

<script>
    // 1. Reloj en tiempo real (Colombia)
    function updateClock() {
        const now = new Date();
        const options = { timeZone: 'America/Bogota', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
        document.getElementById('clock').innerText = "üá®üá¥ " + now.toLocaleTimeString('es-CO', options);
    }
    setInterval(updateClock, 1000);

    // 2. Configuraci√≥n del Mapa GPS (Para que el cliente marque su sitio)
    var map = L.map('map').setView([7.9789, -75.1991], 14);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    var marker = L.marker([7.9789, -75.1991], {draggable: true}).addTo(map);

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
            const lat = pos.coords.latitude;
            const lng = pos.coords.longitude;
            marker.setLatLng([lat, lng]);
            map.setView([lat, lng], 16);
        });
    }

    // 3. Funci√≥n para enviar gesti√≥n v√≠a WhatsApp con datos del cliente y derechos de autor
    function enviarGestion() {
        const nombre = document.getElementById('nombre').value;
        const direccion = document.getElementById('direccion').value;
        const celular = document.getElementById('celular').value;
        const gestion = document.getElementById('gestion').value;
        const obs = document.getElementById('obs').value;
        const hora = document.getElementById('clock').innerText;
        const lat = marker.getLatLng().lat;
        const lng = marker.getLatLng().lng;

        if(!nombre || !celular) {
            alert("Por favor ingrese el nombre y celular del cliente.");
            return;
        }
        
        const mensaje = `*NUEVA GESTI√ìN LACTALIS*%0A` +
                        `------------------------------%0A` +
                        `üë§ *Cliente:* ${nombre}%0A` +
                        `üìç *Direcci√≥n:* ${direccion}%0A` +
                        `üì± *Celular:* ${celular}%0A` +
                        `üìã *Gesti√≥n:* ${gestion}%0A` +
                        `üí¨ *Obs:* ${obs}%0A` +
                        `üïí *Hora:* ${hora}%0A%0A` +
                        `üìç *Ubicaci√≥n:* https://www.google.com/maps?q=${lat},${lng}%0A%0A` +
                        `------------------------------%0A` +
                        `‚ú® _App desarrollada por Vibras Positivas derechos de autor_ ‚ú®`;
        
        window.open(`https://wa.me/573164704426?text=${mensaje}`, '_blank');
    }
</script>

</body>
</html>
